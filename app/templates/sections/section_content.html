{% extends 'base_course_section.html' %}

{% load static %}
{% load i18n %}
{% load sri %}
{% load humanize %}

{% block stylesheet %}
    <link rel="stylesheet" href="{% static 'css/custom.css' %}">
{% endblock stylesheet %}

{% block content %}
    {% if section.start_date or section.end_data %}
        <ul class="list-group mb-3">
            {% if section.start_date %}
                <li class="list-group-item"><b>{% trans "Start" %}: </b>{{ section.start_date|naturaltime }}
                    <small>({{ section.start_date }} UTC)</small></li>
            {% endif %}
            {% if section.end_date %}
                <li class="list-group-item"><b>{% trans "End" %}: </b>{{ section.end_date|naturaltime }}
                    <small>({{ section.end_date }} UTC)</small></li>
            {% endif %}
        </ul>
    {% endif %}

    {% if section.description %}
        <p class="text-break">{{ section.description|safe|linebreaksbr }}</p>
    {% endif %}

    {% if section_items %}
        <div class="card-deck">
            <div class="card quiz">
                <div class="card-body">
                    <div class="quiz-items-container">
                        {% for sectionitem in section_items %}
                            <div class="quiz-item" style="display: none;">
                                <h4>{{ sectionitem.name }}</h4>
                                <p>{{ sectionitem.content|safe }}</p>
                                {% if forloop.last %}
                                    {% include 'partials/mark_section_completed.html' %}
                                {% endif %}
                            </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="card-footer">
                    <nav aria-label="quiz navigation">
                        <ul class="pagination justify-content-center mb-0">
                            <li id="quiz-navigation-previous" class="page-item disabled">
                                <a class="page-link" href="javascript:void(0);" tabindex="-1" aria-disabled="true"
                                   onclick="previousPaginationItem()">{% trans "Previous" %}</a>
                            </li>
                            <li class="page-item disabled"><a id="quiz-navigation-position" class="page-link"
                                                              href="javascript:void(0);" tabindex="-1"
                                                              aria-disabled="true">-- of --</a></li>
                            <li id="quiz-navigation-next" class="page-item">
                                <a class="page-link" href="javascript:void(0);" onclick="nextPaginationItem()">{% trans "Next" %}</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    {% else %}
        <div class="card mb-3 section-text">
            <div class="card-body">
                {{ section.content|safe }}

                {% include 'partials/mark_section_completed.html' %}
            </div>
        </div>
    {% endif %}
{% endblock content %}

{% block javascript_bottom %}
    {% sri_static "js/pagination.js" %}
{% endblock javascript_bottom %}